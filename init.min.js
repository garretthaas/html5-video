const player=document.getElementById("player"),video=player.querySelector("#player-video"),btnPlayback=player.querySelector(".btnPlayback"),btnPlay=player.querySelector(".btnPlay"),btnPause=player.querySelector(".btnPause"),btnMute=player.querySelector(".btnMute"),btnFull=player.querySelector(".btnFull"),progress=player.querySelector(".progress"),progressBar=player.querySelector("progressBar"),timeBar=player.querySelector(".timeBar"),current=player.querySelector(".current"),videoTime=player.querySelector(".duration"),mobileControl=player.querySelector(".mobile-control");function playControls(){activeToggle(btnPlayback),activeToggle(video),activeToggle(mobileControl)}function activeToggle(e){e.setAttribute("data-state","is-active"===e.getAttribute("data-state")?"is-inactive":"is-active")}function videoEnded(){playControls()}function playToggle(){video.paused?(video.play(),playControls()):(video.pause(),playControls())}function muteToggle(){video.muted=!video.muted,activeToggle(this)}function convertTime(e,t){const o=new Date(0);o.setSeconds(e);const r=o.toISOString().substr(14,5);t.innerHTML=r}function timeCurrent(){convertTime(video.currentTime,current)}function timeDuration(){convertTime(video.duration,videoTime)}function metaSet(){const e=video.videoHeight/video.videoWidth*100;video.style.height=`${e}vw`,timeDuration()}function progressUpdate(){const e=video.currentTime/video.duration*100;timeBar.style.width=`${e}%`}function scrub(e){const t=e.offsetX/progress.offsetWidth*video.duration;video.currentTime=t}function keyControllers(e){switch(console.log(e.code),e.code){case"ArrowRight":video.currentTime=video.currentTime+.05*video.duration;break;case"ArrowLeft":video.currentTime=video.currentTime-.05*video.duration;break;case"Space":playToggle()}}function openFullscreen(){const e=video;e.requestFullscreen?e.requestFullscreen():e.mozRequestFullScreen?e.mozRequestFullScreen():e.webkitRequestFullscreen?e.webkitRequestFullscreen():e.msRequestFullscreen&&e.msRequestFullscreen()}video.addEventListener("click",playToggle),btnPlayback.addEventListener("click",playToggle),btnFull.addEventListener("click",openFullscreen),btnMute.addEventListener("click",muteToggle),video.addEventListener("timeupdate",progressUpdate),video.addEventListener("timeupdate",timeCurrent),video.addEventListener("timeupdate",timeDuration),video.addEventListener("loadedmetadata",metaSet),mobileControl.addEventListener("click",playToggle),document.addEventListener("keydown",e=>keyControllers(e));let mousedown=!1;progress.addEventListener("click",scrub),progress.addEventListener("mousemove",e=>mousedown&&scrub(e)),progress.addEventListener("mousedown",()=>mousedown=!0),progress.addEventListener("mouseup",()=>mousedown=!1);